<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2025 ì§ì¥ì¸ í•„ìˆ˜ íˆ´ | ìµœì¥ ì—°íœ´ ì‹œë®¬ë ˆì´í„°</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: #f4f4f4; padding: 20px; max-width: 960px; margin: auto; }
    select, button, input { padding: 10px; margin: 5px; border-radius: 6px; border: 1px solid #ccc; }
    .box { background: #fff; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); padding: 20px; margin-top: 20px; }
    .highlight { color: #d9534f; font-weight: bold; }
    .card { background: #fcfcfc; border-left: 5px solid #2ecc71; margin-bottom: 10px; padding: 15px; border-radius: 6px; }
    .copy-btn, .share-btn { margin-top: 10px; padding: 8px 12px; background: #3498db; color: white; border: none; border-radius: 4px; cursor: pointer; }
    .copy-btn:hover, .share-btn:hover { background: #2c80b4; }
    ul { padding-left: 20px; }
  </style>
</head>
<body>
  <h1>2025 ì§ì¥ì¸ í•„ìˆ˜ íˆ´ | ìµœì¥ ì—°íœ´ ì‹œë®¬ë ˆì´í„°</h1>
  <p>ê³µíœ´ì¼ê³¼ ì£¼ë§ì„ ì¡°í•©í•˜ì—¬ ìµœì¥ ì—°íœ´ë¥¼ ë§Œë“œëŠ” ì—°ì°¨ ì „ëµì„ ì¶”ì²œí•©ë‹ˆë‹¤!</p>

  <div class="box">
    <label>ì—°ë„:</label>
    <select id="year"></select>
    <label>ì›”:</label>
    <select id="month"><option value="0">ì „ì²´ ì—°ë„</option></select>
    <label>ì—°ì°¨ ì‚¬ìš©:</label>
    <select id="leaveDays">
      <option value="0">ì„ íƒ</option>
      <option value="1">1ì¼</option>
      <option value="2">2ì¼</option>
      <option value="3">3ì¼</option>
    </select>
    <label>ë³´ìœ  ì—°ì°¨:</label>
    <input type="number" id="totalLeave" value="15" min="1" max="30">
    <button onclick="calculateDays()">ìµœì¥ ì—°íœ´ ê³„ì‚°í•˜ê¸°</button>
  </div>

  <div class="box" id="resultBox"></div>

  <script>
    const yearSelect = document.getElementById("year");
    const monthSelect = document.getElementById("month");
    const leaveDaysSelect = document.getElementById("leaveDays");
    const totalLeaveInput = document.getElementById("totalLeave");
    const resultBox = document.getElementById("resultBox");

    for (let y = 2024; y <= 2030; y++) {
      yearSelect.innerHTML += `<option value="${y}">${y}ë…„</option>`;
    }
    for (let m = 1; m <= 12; m++) {
      monthSelect.innerHTML += `<option value="${m}">${m}ì›”</option>`;
    }

    function calculateDays() {
      const year = parseInt(yearSelect.value);
      const month = parseInt(monthSelect.value);
      const leaveDays = parseInt(leaveDaysSelect.value);
      const totalLeave = parseInt(totalLeaveInput.value);

      let holidays = [];
      let current = new Date(year, month > 0 ? month - 1 : 0, 1);
      const end = new Date(year, month > 0 ? month : 12, 0);

      while (current <= end) {
        if (current.getDay() === 0 || current.getDay() === 6) { holidays.push(new Date(current)); }
        current.setDate(current.getDate() + 1);
      }

      resultBox.innerHTML = `<h3>ì—°ì°¨ ì¡°í•© ì¶”ì²œ</h3>`;
      if (holidays.length === 0) {
        resultBox.innerHTML += `<p>í•´ë‹¹ ê¸°ê°„ì— ì¶”ì²œí•  ê³µíœ´ì¼/ì£¼ë§ì´ ì—†ìŠµë‹ˆë‹¤.</p>`;
        return;
      }

      let suggestions = holidays.map(date => {
        const before = new Date(date);
        before.setDate(before.getDate() - 1);
        const after = new Date(date);
        after.setDate(after.getDate() + 1);

        return {
          period: `${before.toLocaleDateString()} ~ ${after.toLocaleDateString()}`,
          totalDays: 3,
          requiredLeave: 1
        };
      });

      suggestions = suggestions.filter(s => s.requiredLeave <= leaveDays && s.requiredLeave <= totalLeave);

      suggestions.sort((a, b) => b.totalDays - a.totalDays);

      suggestions.forEach((s, idx) => {
        resultBox.innerHTML += `
          <div class="card">
            <b>ì¶”ì²œ ${idx + 1}:</b><br>
            ğŸ“… ê¸°ê°„: ${s.period}<br>
            ğŸ›Œ ì‰¬ëŠ” ì¼ìˆ˜: ${s.totalDays}ì¼<br>
            ğŸ“ í•„ìš”í•œ ì—°ì°¨: ${s.requiredLeave}ì¼<br>
            <button class="copy-btn" onclick="copyText('${s.period} | ì‰¬ëŠ” ì¼ìˆ˜ ${s.totalDays}ì¼ | ì—°ì°¨ ${s.requiredLeave}ì¼')">ë³µì‚¬í•˜ê¸°</button>
            <button class="share-btn" onclick="shareText('${s.period} | ì‰¬ëŠ” ì¼ìˆ˜ ${s.totalDays}ì¼ | ì—°ì°¨ ${s.requiredLeave}ì¼')">ê³µìœ í•˜ê¸°</button>
          </div>
        `;
      });
    }

    function copyText(text) {
      navigator.clipboard.writeText(text).then(() => {
        alert('ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
      });
    }

    function shareText(text) {
      if (navigator.share) {
        navigator.share({
          title: 'ì—°ì°¨ ì¶”ì²œ ê³µìœ ',
          text: text,
          url: window.location.href
        });
      } else {
        alert('í˜„ì¬ ë¸Œë¼ìš°ì €ëŠ” ê³µìœ ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
      }
    }
  </script>
</body>
</html>
